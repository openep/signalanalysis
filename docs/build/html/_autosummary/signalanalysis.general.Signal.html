
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>signalanalysis.general.Signal &#8212; signalanalysis 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="signalanalysis.vcg" href="signalanalysis.vcg.html" />
    <link rel="prev" title="signalanalysis.general.get_twave_end" href="signalanalysis.general.get_twave_end.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="signalanalysis-general-signal">
<h1>signalanalysis.general.Signal<a class="headerlink" href="#signalanalysis-general-signal" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="signalanalysis.general.Signal">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">signalanalysis.general.</span></span><span class="sig-name descname"><span class="pre">Signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#signalanalysis.general.Signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for general signal, either ECG or VCG</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="signalanalysis.general.Signal.data">
<span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="#signalanalysis.general.Signal.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Raw ECG data for the different leads</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="signalanalysis.general.Signal.filename">
<span class="sig-name descname"><span class="pre">filename</span></span><a class="headerlink" href="#signalanalysis.general.Signal.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Filename for the location of the data</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="signalanalysis.general.Signal.normalised">
<span class="sig-name descname"><span class="pre">normalised</span></span><a class="headerlink" href="#signalanalysis.general.Signal.normalised" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not the data for the leads have been normalised</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="signalanalysis.general.Signal.n_beats">
<span class="sig-name descname"><span class="pre">n_beats</span></span><a class="headerlink" href="#signalanalysis.general.Signal.n_beats" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of beats recorded in the trace. Set to 0 if not calculated</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="signalanalysis.general.Signal.qrs_start">
<span class="sig-name descname"><span class="pre">qrs_start</span></span><a class="headerlink" href="#signalanalysis.general.Signal.qrs_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Times calculated for the start of the QRS complex</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="signalanalysis.general.Signal.qrs_end">
<span class="sig-name descname"><span class="pre">qrs_end</span></span><a class="headerlink" href="#signalanalysis.general.Signal.qrs_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Times calculated for the end of the QRS complex</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>end</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="signalanalysis.general.Signal.data_source">
<span class="sig-name descname"><span class="pre">data_source</span></span><a class="headerlink" href="#signalanalysis.general.Signal.data_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Source for the data, if known e.g. Staff III database, CARP simulation, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="signalanalysis.general.Signal.comments">
<span class="sig-name descname"><span class="pre">comments</span></span><a class="headerlink" href="#signalanalysis.general.Signal.comments" title="Permalink to this definition">¶</a></dt>
<dd><p>Any further details known about the data, e.g. sex, age, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="signalanalysis.general.Signal.get_rms">
<span class="sig-name descname"><span class="pre">get_rms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unipolar_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#signalanalysis.general.Signal.get_rms" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the RMS of the combined signal</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="signalanalysis.general.Signal.get_n_beats">
<span class="sig-name descname"><span class="pre">get_n_beats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">threshold=0.5</span></em>, <em class="sig-param"><span class="pre">separation=0.2</span></em>, <em class="sig-param"><span class="pre">plot=False</span></em>, <em class="sig-param"><span class="pre">\*\*kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#signalanalysis.general.Signal.get_n_beats" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits the full signal into individual beats</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="signalanalysis.general.Signal.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">separate_beats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#signalanalysis.general.Signal.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the ECG data</p>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#signalanalysis.general.Signal.apply_filter" title="signalanalysis.general.Signal.apply_filter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_filter</span></code></a></p></td>
<td><p>Apply a given filter to the data, using their respective arguments as required</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#id0" title="signalanalysis.general.Signal.get_n_beats"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_n_beats</span></code></a></p></td>
<td><p>Calculate the number of beats in a given signal, and save the individual beats to the object for later use</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id1" title="signalanalysis.general.Signal.get_rms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_rms</span></code></a></p></td>
<td><p>Returns the RMS of the combined signal</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_twave_end</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#signalanalysis.general.Signal.reset" title="signalanalysis.general.Signal.reset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reset</span></code></a></p></td>
<td><p>Reset all properties of the class</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="signalanalysis.general.Signal.apply_filter">
<span class="sig-name descname"><span class="pre">apply_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#signalanalysis.general.Signal.apply_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a given filter to the data, using their respective arguments as required</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="tools.maths.filter_butterworth.html#tools.maths.filter_butterworth" title="tools.maths.filter_butterworth"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tools.maths.filter_butterworth()</span></code></a></dt><dd><p>Potential filter</p>
</dd>
<dt><a class="reference internal" href="tools.maths.filter_savitzkygolay.html#tools.maths.filter_savitzkygolay" title="tools.maths.filter_savitzkygolay"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tools.maths.filter_savitzkygolay()</span></code></a></dt><dd><p>Potential filter</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">get_n_beats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_separation</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_index</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the number of beats in a given signal, and save the individual beats to the object for later use</p>
<p>When given the raw data of a given signal (ECG or VCG), will estimate the number of beats recorded in the trace
based on the RMS of the signal exceeding a threshold value. The estimated individual beats will then be saved in
a list in a lossless manner, i.e. saved as [ECG1, ECG2, …, ECG(n)], where ECG1=[0:peak2], ECG2=[peak1:peak3],
…, ECGn=[peak(n-1):end]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>threshold</strong> (<em>float {0&lt;1}</em>) – Minimum value to search for for a peak in RMS signal to determine when a beat has occurred, default=0.5</p></li>
<li><p><strong>min_separation</strong> (<em>float</em>) – Minimum time (in s) that should be used to separate separate beats, default=0.2s</p></li>
<li><p><strong>reset_index</strong> (<em>bool</em>) – Whether to reset the time index for the separated beats so that they all start from zero (true),
or whether to leave them with the original time index (false), default=True</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – Whether to plot results of beat detection, default=False</p></li>
<li><p><strong>unipolar_only</strong> (<em>bool</em><em>, </em><em>optional</em>) – Only appropriate for ECG data. Whether to use only unipolar ECG leads to calculate RMS, default=True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self.n_beats</strong> – Number of beats detected in signal</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#id1" title="signalanalysis.general.Signal.get_rms"><code class="xref py py-meth docutils literal notranslate"><span class="pre">signalanalysis.general.Signal.get_rms()</span></code></a></dt><dd><p>RMS signal calculation required for getting n_beats</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id1">
<span class="sig-name descname"><span class="pre">get_rms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">preprocess_data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.core.frame.DataFrame</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_columns</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id1" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the RMS of the combined signal</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>preprocess_data</strong> (<em>pd.DataFrame</em><em>, </em><em>optional</em>) – Only passed if there is some extant data that is to be used for getting the RMS (for example,
if the unipolar data only from ECG is being used, and the data is thus preprocessed in a manner specific
for ECG data in the ECG routine)</p></li>
<li><p><strong>drop_columns</strong> (<em>list of str</em><em>, </em><em>optional</em>) – List of any columns to drop from the raw data before calculating the RMS. Can be used in conjunction with
preprocess_data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self.rms</strong> – RMS signal of all combined leads</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The scalar RMS is calculated according to</p>
<div class="math notranslate nohighlight">
\[\sqrt{ \frac{1}{n}\sum_{i=1}^n (\textnormal{ECG}_i^2(t)) }\]</div>
<p>for all leads available from the signal (12 for ECG, 3 for VCG), unless some leads are excluded via the
drop_columns parameter.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="signalanalysis.general.Signal.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#signalanalysis.general.Signal.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset all properties of the class</p>
<p>Function called when reading in new data into an existing class (for some reason), which would make these
properties and attributes clash with the other data</p>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">signalanalysis</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../docutils.html">docutils Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="signalanalysis.html">signalanalysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="signalplot.html">signalplot</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html">tools</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../docutils.html">docutils Documentation</a><ul>
  <li><a href="signalanalysis.html">signalanalysis</a><ul>
  <li><a href="signalanalysis.general.html">signalanalysis.general</a><ul>
      <li>Previous: <a href="signalanalysis.general.get_twave_end.html" title="previous chapter">signalanalysis.general.get_twave_end</a></li>
      <li>Next: <a href="signalanalysis.vcg.html" title="next chapter">signalanalysis.vcg</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Philip Gemmell.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/_autosummary/signalanalysis.general.Signal.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>